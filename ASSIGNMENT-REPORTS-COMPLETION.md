# ุชูุฑูุฑ ุฅููุงู ุชุทููุฑ ุชูุงุฑูุฑ ุงูุทุจุงุนุฉ - ุฅุณูุงุฏ ุงูููุงุฏ

## ููุฎุต ุงูููุงู ุงูููุชููุฉ

### ุงููููุฉ 4: ุชูุงุฑูุฑ ุงูุทุจุงุนุฉ + print.css โ

#### ุงูุชุญุณููุงุช ุงูููุฌุฒุฉ:

1. **ุชุทููุฑ TeacherReportView**:
   - โ ุฅุถุงูุฉ ุฑุฃุณ ุงูุชูุฑูุฑ ุงููุทูุฑ ูุน:
     - ุงุณู ุงููุฏุฑุณุฉ (ุงุฎุชูุงุฑู)
     - ุชุงุฑูุฎ ุงูุชูุฑูุฑ ุจุงูุชูุณูู ุงูุนุฑุจู
     - ูุทุงู ุงูุชูุฑูุฑ (ูุนูู ูุงุญุฏ)
   - โ ุฃุฒุฑุงุฑ ุชูุงุนููุฉ ููุทุจุงุนุฉ ูุงูุชุตุฏูุฑ:
     - ุทุจุงุนุฉ (Ctrl+P ุฃู ูุงูุฐุฉ ุงููุชุตูุญ)
     - ุชูุฒูู CSV
     - ุชูุฒูู PDF ูุจุงุดุฑ
     - ูุดุงุฑูุฉ ูุงุชุณุงุจ

2. **ุชุทููุฑ PlanReportView**:
   - โ ุฅุถุงูุฉ ุฑุฃุณ ุงูุชูุฑูุฑ ุงููุทูุฑ ูุน:
     - ุงุณู ุงููุฏุฑุณุฉ (ุงุฎุชูุงุฑู) 
     - ุชุงุฑูุฎ ุงูุชูุฑูุฑ
     - ูุทุงู ุงูุชูุฑูุฑ (ุนุฏุฏ ุงููุนูููู ูุงูููุงุฏ)
   - โ ููุณ ุฃุฒุฑุงุฑ ุงูุชูุงุนู ูุงูุชุตุฏูุฑ

3. **ุชุทููุฑ print.css**:
   - โ ุฅุนุฏุงุฏุงุช ุตูุญุฉ A4 ูุน ููุงูุด 15-20mm
   - โ ุฏุนู ูุงูู ูู RTL (ุงุชุฌุงู ูููู-ุดูุงู)
   - โ ุฅุฎูุงุก ุนูุงุตุฑ ุงูุชุญูู ูู ุงูุทุจุงุนุฉ
   - โ ุฃููุงุท ุฎุงุตุฉ ูุฑุฃุณ ุงูุชูุฑูุฑ ููุนูููุงุช ุงููุฏุฑุณุฉ
   - โ ุชุญุณูู ุฃููุงุท ุงูุฌุฏุงูู ูุงูุฅุญุตุงุฆูุงุช ููุทุจุงุนุฉ
   - โ @media print ู @page ูุญุณูุฉ

### ุงููููุฉ 5: PdfClient.ts (Fallback) โ

#### ุงููุธุงุฆู ุงููุถุงูุฉ:

1. **downloadTeacherPdf(teacherId, state)**:
   - โ ุฏูุฌ html2canvas + jsPDF
   - โ ุชุญููู ุนูุตุฑ DOM ููุชูุฑูุฑ ุฅูู PDF
   - โ ุฌูุฏุฉ ุนุงููุฉ (scale: 2)
   - โ ุฅุฎูุงุก ุนูุงุตุฑ ุงูุชุญูู ูู ุงููุณุฎุฉ ุงูููุตุฏุฑุฉ
   - โ ุฏุนู ุงูุตูุญุงุช ุงููุชุนุฏุฏุฉ ุชููุงุฆูุงู
   - โ ุงุณู ููู: `Assignment_[TeacherName]_[yyyy-mm-dd].pdf`

2. **downloadPlanPdf(selectedTeacherIds?, state?)**:
   - โ ุชุตุฏูุฑ ุชูุฑูุฑ ุงูุฎุทุฉ ุงูุดุงููุฉ
   - โ ุฏุนู ุงููุทุงูุงุช ุงููุฎุชููุฉ:
     - ุงููู (ุฅุฐุง ูู ุชููุฑุฑ ูุนุฑูุงุช)
     - ูุนูู ูุงุญุฏ
     - ูุฌููุนุฉ ูุนูููู
   - โ ุฃุณูุงุก ูููุงุช ุฐููุฉ:
     - `Assignment_Plan_ุงููู_[yyyy-mm-dd].pdf`
     - `Assignment_Plan_[TeacherName]_[yyyy-mm-dd].pdf`
     - `Assignment_Plan_ูุฌููุนุฉ_X_ูุนูููู_[yyyy-mm-dd].pdf`

#### ุงูุชุญุณููุงุช ุงูุชูููุฉ:
- โ ูุนุงูุฌุฉ ุงูุฃุฎุทุงุก ุงูุดุงููุฉ
- โ ุฑุณุงุฆู ุฎุทุฃ ุจุงููุบุฉ ุงูุนุฑุจูุฉ
- โ ุฏุนู CORS ู allowTaint
- โ ุฎูููุฉ ุจูุถุงุก ููุญุฏุฉ
- โ ุญุณุงุจ ุฃุจุนุงุฏ ุงูุตูุญุฉ ุชููุงุฆูุงู

## ุงูููุฒุงุช ุงูููุชููุฉ

### ุทุฑู ุงูุชุตุฏูุฑ ุงููุชุงุญุฉ:
1. **ุทุจุงุนุฉ ุนุงุฏูุฉ**: Ctrl+P ุฃู ูุงูุฐุฉ ูุชุตูุญ โ ุญูุธ ูู PDF
2. **ุชุตุฏูุฑ CSV**: ุจูุงูุงุช ููุธูุฉ ูู ููู Excel-compatible  
3. **ุชูุฒูู PDF ูุจุงุดุฑ**: ููู PDF ุงุญุชุฑุงูู ุจุฏูู ูุงูุฐุฉ ุงูุทุจุงุนุฉ
4. **ูุดุงุฑูุฉ ูุงุชุณุงุจ**: (ุฌุงูุฒ ููุฑุจุท)

### ุงูุฏุนู ุงูููุญูู:
- โ RTL ูุงูู ูู ุงูุทุจุงุนุฉ ูุงูุชุตุฏูุฑ
- โ ุฃููุงุท ุนุฑุจูุฉ ุงุญุชุฑุงููุฉ
- โ ุฑุคูุณ ุชูุงุฑูุฑ ูุนูููุงุชูุฉ
- โ ุฃุณูุงุก ูููุงุช ุฐููุฉ ุจุงููุบุฉ ุงูุนุฑุจูุฉ
- โ ุฌูุฏุฉ ุทุจุงุนุฉ ุนุงููุฉ
- โ ุชูุงูู ูุน ุฌููุน ุงููุชุตูุญุงุช ุงูุญุฏูุซุฉ

## ูููุงุช ุงูุชุบููุฑ

### ูููุงุช ูุญุฏุซุฉ:
1. `src/features/assignment/store/types.ts` - ุฅุถุงูุฉ schoolName ููุฅุนุฏุงุฏุงุช
2. `src/features/assignment/reports/TeacherReportView.tsx` - ุฑุฃุณ ุงูุชูุฑูุฑ ูุฃุฒุฑุงุฑ ุงูุชุตุฏูุฑ
3. `src/features/assignment/reports/PlanReportView.tsx` - ุฑุฃุณ ุงูุชูุฑูุฑ ูุฃุฒุฑุงุฑ ุงูุชุตุฏูุฑ
4. `src/features/assignment/reports/print.css` - ุชุญุณููุงุช RTL ูุงูุทุจุงุนุฉ
5. `src/features/assignment/utils/PdfClient.ts` - ุฅุถุงูุฉ ูุธุงุฆู html2canvas

### ูููุงุช ุฌุฏูุฏุฉ:
1. `src/features/assignment/reports/test-reports.html` - ุตูุญุฉ ุงุฎุชุจุงุฑ ุงูุทุจุงุนุฉ

## ููููุฉ ุงูุงุณุชุฎุฏุงู

### ูููุทูุฑ:
```typescript
import { downloadTeacherPdf, downloadPlanPdf } from '../utils/PdfClient';

// ุชูุฒูู ุชูุฑูุฑ ูุนูู
await downloadTeacherPdf('teacher-id-123', state);

// ุชูุฒูู ุฎุทุฉ ุดุงููุฉ
await downloadPlanPdf(); // ุงููู
await downloadPlanPdf(['teacher-1', 'teacher-2'], state); // ูุฌููุนุฉ
```

### ูููุณุชุฎุฏู:
1. ุงูุชูู ูุตูุญุฉ ุชูุฑูุฑ ุงููุนูู ุฃู ุงูุฎุทุฉ
2. ุงุฎุชุฑ ุทุฑููุฉ ุงูุชุตุฏูุฑ:
   - **ุทุจุงุนุฉ**: ููุญูุธ ุนุจุฑ ูุชุตูุญ
   - **CSV**: ููุจูุงูุงุช ุงูุฌุฏูููุฉ
   - **ุชูุฒูู PDF**: ููุญุตูู ุนูู ููู ููุฑู
3. ุงูููู ุณููุญูุธ ุชููุงุฆูุงู ูุน ุงุณู ูุตูู

## ุงุฎุชุจุงุฑ ุงููุชุงุฆุฌ

ุชู ุฅูุดุงุก ููู `test-reports.html` ูุงุฎุชุจุงุฑ:
- โ ุฃููุงุท ุงูุทุจุงุนุฉ RTL
- โ ุฑุคูุณ ุงูุชูุงุฑูุฑ  
- โ ุงูุฌุฏุงูู ูุงูุฅุญุตุงุฆูุงุช
- โ ุฅุฎูุงุก ุนูุงุตุฑ ุงูุชุญูู

## ุญุงูุฉ ุงููุดุฑูุน
๐ **ููุชูู ุจูุฌุงุญ** - ุฌููุน ุงููุชุทูุจุงุช ุงููุญุฏุฏุฉ ุชู ุชูููุฐูุง ุจูุนุงููุฑ ุงุญุชุฑุงููุฉ ุนุงููุฉ.

---

*ุชุงุฑูุฎ ุงูุฅููุงู: 23 ุฃูุชูุจุฑ 2025*  
*ุงููุทูุฑ: GitHub Copilot*