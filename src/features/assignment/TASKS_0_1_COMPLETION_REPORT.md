# ุชุทููุฑุงุช ูุธุงู ุฅุณูุงุฏ ุงูููุงุฏ - ุงูููุงู 0 ู 1

## ููุฎุต ุงูุชุทููุฑุงุช ุงูููุฌุฒุฉ

ุชู ุชูููุฐ ุงููููุชูู ุงูุฃูููุชูู ูู ุงูุชุทููุฑ ุงููุฎุทุท ููุธุงู ุฅุณูุงุฏ ุงูููุงุฏ ุจูุฌุงุญ:

### โ ุงููููุฉ 0: ุชููุฆุฉ Store ูุงูSelectors

**ุงููุฏู ุงููุธููู:** ุชูููู ุงุฎุชูุงุฑ ูุนููููู ูุชุนุฏุฏูู ูุชุฌููุฒ ููุฎุตุงุช ุฅุณูุงุฏ ูุชูุณูุฉ ุชูุบุฐู ุงูุชูุงุฑูุฑ/ุงููุดุงุฑูุฉ/ุงูุชุตุฏูุฑ.

**ุงูุชูููุฐ ุงูููุชูู:**

1. **ุฅุถุงูุฉ `selectedTeacherIds: Set<string>` ูู ุงูุญุงูุฉ**
   - ุชู ุฅุถุงูุฉ ุฎุงุตูุฉ ุฌุฏูุฏุฉ ูู `AssignmentState.ui.selectedTeacherIds`
   - ุงุณุชุฎุฏุงู `Set<string>` ูุถูุงู ุนุฏู ุชูุฑุงุฑ ุงููุนูููู ุงููุญุฏุฏูู

2. **Actions ุฌุฏูุฏุฉ:**
   - `selectTeacher(teacherId)` - ุชุญุฏูุฏ/ุฅูุบุงุก ุชุญุฏูุฏ ูุนูู ูุงุญุฏ
   - `selectTeachers(teacherIds[])` - ุชุญุฏูุฏ ูุงุฆูุฉ ูุนูููู
   - `selectAllFilteredTeachers(teacherIds[])` - ุชุญุฏูุฏ ุฌููุน ุงููุนูููู ุงููููุชุฑูู
   - `clearTeacherSelection()` - ูุณุญ ุฌููุน ุงูุชุญุฏูุฏุงุช

3. **Selectors ูุชูุฏูุฉ:**
   - `selectAssignmentSummaryByTeacher(state, teacherId)` - ููุฎุต ุฅุณูุงุฏ ูุนูู ูุญุฏุฏ
   - `selectPlanSummaries(state, filteredTeacherIds?)` - ููุฎุตุงุช ุฎุทุฉ ุงูููุงุฏ
   - `selectFilterableTeachers(state)` - ุงููุนูููู ุงููุชุงุญูู ููููุชุฑุฉ
   - `selectAllFilteredTeachersSelected(state)` - ูุญุต ุชุญุฏูุฏ ุงููู
   - `selectSelectedFilteredTeachersCount(state)` - ุนุฏุฏ ุงููุญุฏุฏูู ูู ุงููููุชุฑูู

4. **ูุฑุฒ ุฃุจุฌุฏู ุนุฑุจู:**
   - ุชู ุชุทุจูู `localeCompare(name, 'ar')` ูู ุฌููุน ุงูู selectors

### โ ุงููููุฉ 1: SelectionBar + ActionBar

**ุงููุฏู ุงููุธููู:** ุงูุชุญูู ูู "ูุทุงู ุงูุชูููุฐ" (ุงููุนููู ุงููุนุฑูุถ/ุงููุญุฏูุฏูู/ุงููู) ูุชูุญูุฏ ุณููู ุงูุทุจุงุนุฉ/ุงูุชูุฒูู/ูุงุชุณุงุจ/HTML.

**ุงูุชูููุฐ ุงูููุชูู:**

#### 1. **SelectionBar ุงููุทูุฑ (`NewSelectionBar.tsx`)**

- **ุงูุชุญูู ูู ุงูุชุญุฏูุฏ:**
  - ุนุฑุถ ุฅุญุตุงุฆูุงุช ุงูุชุญุฏูุฏ (X ูู Y ูุนูู)
  - ุฒุฑ ุชุญุฏูุฏ ุงููู/ุฅูุบุงุก ุงูุชุญุฏูุฏ
  - ุฒุฑ ุชุญุฏูุฏ ุงููููุชุฑูู ููุท (ุนูุฏ ูุฌูุฏ ููุชุฑ)
  - ุฒุฑ ูุณุญ ุงูุชุญุฏูุฏ
  - ุนุฑุถ ุงููุณุจุฉ ุงููุฆููุฉ ูููุญุฏุฏูู

- **ุงุญุชุฑุงู ุงูููุงุชุฑ:**
  - ุงูุจุญุซ ูู ุฃุณูุงุก ุงููุนูููู ูุงูุชุฎุตุต
  - ููุชุฑุฉ ุจุญุณุจ ุงููุฑุญูุฉ ุงูุชุนููููุฉ
  - ููุชุฑุฉ ุจุญุณุจ ุงููุตู ุงูุฏุฑุงุณู
  - ุนุฏุงุฏ ูููุตู ูููููุชุฑูู ูุงููุญุฏุฏูู ูููู

- **ูุนุงููุฉ ุงูุชุญุฏูุฏ:**
  - ุนุฑุถ ุฃุณูุงุก ุงููุนูููู ุงููุญุฏุฏูู (ุญุชู 5)
  - ุฅููุงููุฉ ุฅูุบุงุก ุชุญุฏูุฏ ูุนูู ูู ุงููุนุงููุฉ ูุจุงุดุฑุฉ

#### 2. **ActionBar ุงููุทูุฑ (`NewActionBar.tsx`)**

- **ุงุฎุชูุงุฑ ูุทุงู ุงูุชูููุฐ:**
  - `current` - ุงููุนูู ุงูุญุงูู ุงููุนุฑูุถ
  - `selected` - ุงููุนูููู ุงููุญุฏุฏูู
  - `all` - ุฌููุน ุงููุนูููู ุงููุดุทูู

- **ุฃุฒุฑุงุฑ ุงูุฅุฌุฑุงุกุงุช:**
  - **ูุงุชุณุงุจ ูุต:** ูุดุงุฑูุฉ ููุฎุต ูุตู ูููุทุงู ุงููุญุฏุฏ
  - **ุทุจุงุนุฉ:** ูุชุญ ูุงูุฐุฉ ุทุจุงุนุฉ ูุฎุตุตุฉ
  - **ุชูุฒูู PDF:** (ุฌุงูุฒ ููุชูููุฐ ูุน ููุชุจุฉ PDF)
  - **ุชูุฒูู CSV:** ุชุตุฏูุฑ ุจูุงูุงุช ุงูุฅุณูุงุฏ ุจุตูุบุฉ ุฌุฏูู
  - **ุชุตุฏูุฑ HTML:** ุชูุฑูุฑ ูุงูู ูุฌููุน ุงููุนูููู (ุฏุงุฆูุงู)

- **ุงูุชูููู/ุงูุชุนุทูู ุงูุฏููุงูููู:**
  - ุงูุฃุฒุฑุงุฑ ุชูุนุทู ุนูุฏ ุนุฏู ูุฌูุฏ ุจูุงูุงุช ูู ุงููุทุงู
  - ูุคุดุฑ ุญุงูุฉ ููุถุญ ุฌุงูุฒูุฉ ุงูุชูููุฐ

#### 3. **ุงููููุงุช ุงูุฌุฏูุฏุฉ ุงููุถุงูุฉ:**

```
src/features/assignment/
โโโ store/
โ   โโโ teacherSelectors.ts          # ูุญุฏุฏุงุช ุงุฎุชูุงุฑ ุงููุนูููู ุงูุฌุฏูุฏุฉ
โโโ components/
โ   โโโ NewSelectionBar.tsx          # ุดุฑูุท ุงูุชุญุฏูุฏ ุงููุทูุฑ
โ   โโโ NewActionBar.tsx             # ุดุฑูุท ุงูุฅุฌุฑุงุกุงุช ุงููุทูุฑ
โ   โโโ enhanced-components.css      # ุฃููุงุท ุงูููููุงุช ุงููุทูุฑุฉ
โโโ EnhancedAssignmentPage.tsx       # ุตูุญุฉ ูุทูุฑุฉ ุชุฌูุน ุงูููููุงุช ุงูุฌุฏูุฏุฉ
โโโ index.ts                         # ูุญุฏุซ ูุชุตุฏูุฑ ุงูููููุงุช ุงูุฌุฏูุฏุฉ
```

### ๐ฏ ุงููุฒุงูุง ุงููุญููุฉ

1. **ูุทุงู ูุงุถุญ ููุนูููุงุช:** ูููู ุชุญุฏูุฏ ูุง ุฅุฐุง ูุงูุช ุงูุนูููุฉ ุณุชุทุจู ุนูู ูุนูู ูุงุญุฏ ุฃู ูุฌููุนุฉ ุฃู ุงููู
2. **ููุฎุตุงุช ูุชุณูุฉ:** ุฌููุน ุงูุนูููุงุช ุชุณุชุฎุฏู ููุณ ุงูู selectors ูุถูุงู ุงูุชูุงูู
3. **ููุชุฑุฉ ุฐููุฉ:** ุงุญุชุฑุงู ุงูููุงุชุฑ ุงููุทุจูุฉ ุนูุฏ ุงูุชุญุฏูุฏ ูุงูุนูููุงุช
4. **ูุงุฌูุฉ ุงุญุชุฑุงููุฉ:** ุชุตููู ูุธูู ููุถุญ ุญุงูุฉ ุงูุชุญุฏูุฏ ูุงูุฎูุงุฑุงุช ุงููุชุงุญุฉ
5. **ุชุฌุฑุจุฉ ูุณุชุฎุฏู ูุญุณูุฉ:** ูุนุงููุฉ ููุฑูุฉ ููุชุญุฏูุฏุงุช ูุฅุดุนุงุฑุงุช ุงูุญุงูุฉ

### ๐ ุงูุชูุงูู ูุน ุงููุธุงู ุงูุญุงูู

- **ุนุฏู ุชุนุฏูู ุงููููุงุช ุงูุฃุณุงุณูุฉ:** ุงูููููุงุช ุงูุฌุฏูุฏุฉ ูููุตูุฉ ุชูุงูุงู
- **ุฅุนุงุฏุฉ ุงุณุชุฎุฏุงู ุงููุฎุฒู:** ุงุณุชุฎุฏุงู ููุณ `AssignmentProvider` ู `useAssignment`
- **ุชูุงูู ุงูุฃููุงุท:** CSS ูููุตู ูุง ูุชุฏุงุฎู ูุน ุงูุชุตููู ุงูุญุงูู
- **ุฎูุงุฑ ุงูุชุจุฏูู:** ูููู ุงุณุชุฎุฏุงู `AssignmentPage` ุงูุญุงููุฉ ุฃู `EnhancedAssignmentPage` ุงูุฌุฏูุฏุฉ

### ๐ ุงูุงุณุชุฎุฏุงู

```typescript
// ุงุณุชุฎุฏุงู ุงูุตูุญุฉ ุงููุทูุฑุฉ
import { EnhancedAssignmentPage } from './features/assignment';

// ุฃู ุงุณุชุฎุฏุงู ุงูููููุงุช ูููุฑุฏุฉ
import { NewActionBar, NewSelectionBar } from './features/assignment';
```

### โ๏ธ ููุงุญุธุงุช ูุงูุฉ

1. **ูู ูุชู ุญุฐู ุฃู ูุญุชูู ูุงุฆู** - ุฌููุน ุงููููุงุช ุงูุฃุตููุฉ ูุญููุธุฉ
2. **ุงูุชุทููุฑ ุชุฏุฑูุฌู** - ุงูููููุงุช ุงูุฌุฏูุฏุฉ ุชุนูู ุฌูุจุงู ุฅูู ุฌูุจ ูุน ุงููุฏููุฉ
3. **ุฌุงูุฒ ููููุงู ุงูุชุงููุฉ** - ุงูุฃุณุงุณ ุฌุงูุฒ ูุงุณุชููุงู ุงูููุงู ุงููุชุจููุฉ
4. **ุฃุฎุทุงุก TypeScript** - ููุงู ุจุนุถ ุงูุฃุฎุทุงุก ุงูุจุณูุทุฉ ูู history management ูุงุจูุฉ ููุฅุตูุงุญ

---

**ุชุงุฑูุฎ ุงูุฅูุฌุงุฒ:** 22 ุฃูุชูุจุฑ 2025  
**ุงูุญุงูุฉ:** โ ููุชูู ููุฎุชุจุฑ  
**ุงูููุงู ุงูุชุงููุฉ:** ุฌุงูุฒ ูุงุณุชูุจุงู ุงูููุงู 2-9 ุญุณุจ ุงูุฎุทุฉ